import{u as p,r as b,a as N,j as e,U as v,F as _}from"./app-D99SyvRR.js";import{C as x,a as u,b as h,c as f}from"./card-C4eruR7i.js";import{T as y,a as w,b as c,c as a,d as T,e as t}from"./table-DRSZJk0l.js";import{B as k}from"./app-header-floating-CL-WcHKV.js";import{A}from"./app-layout-inertia-DAwWylqe.js";import{T as H,A as C}from"./trending-up-C93g-2Ro.js";/* empty css            */import"./index-7FwNBKjq.js";import"./index-CF2syoQW.js";import"./user-BFnnBjxc.js";import"./app-logo-icon-CfVo17qO.js";const E=[{title:"Panel de Administración",href:"/admin/dashboard"}];function G({usuariosRecientes:o,actividadSistema:r}){const{auth:g}=p().props;b.useEffect(()=>{const s=setInterval(()=>{N.reload({only:["usuariosRecientes","actividadSistema"],preserveScroll:!0})},3e4);return()=>clearInterval(s)},[]);const j=s=>{const m=new Date(s),l=new Date().getTime()-m.getTime(),d=Math.floor(l/6e4),i=Math.floor(l/36e5),n=Math.floor(l/864e5);return d<60?`Hace ${d} minuto${d!==1?"s":""}`:i<24?`Hace ${i} hora${i!==1?"s":""}`:n<7?`Hace ${n} día${n!==1?"s":""}`:m.toLocaleDateString("es-ES",{day:"2-digit",month:"short"})};return e.jsx(A,{title:"Panel de Administración",breadcrumbs:E,user:g.user,children:e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Panel de Administración"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestión completa del sistema"})]}),e.jsxs("div",{className:"grid gap-3 lg:grid-cols-3",children:[e.jsxs(x,{className:"lg:col-span-2",children:[e.jsxs(u,{className:"pb-3",children:[e.jsx(h,{className:"text-lg",children:"Usuarios Recientes"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Últimos usuarios registrados • Actualización automática"})]}),e.jsx(f,{className:"pt-0",children:e.jsxs(y,{children:[e.jsx(w,{children:e.jsxs(c,{className:"border-border",children:[e.jsx(a,{children:"Nombre"}),e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Rol"}),e.jsx(a,{children:"Estado"})]})}),e.jsx(T,{children:o.length===0?e.jsx(c,{children:e.jsx(t,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"No hay usuarios registrados aún"})}):o.map(s=>e.jsxs(c,{className:"border-border",children:[e.jsx(t,{className:"font-medium",children:s.name}),e.jsx(t,{className:"text-sm text-muted-foreground",children:s.email}),e.jsx(t,{className:"text-sm",children:e.jsx(k,{variant:s.role==="administrador"?"default":"secondary",children:s.role==="administrador"?"Admin":s.role==="medico"?"Médico":"IPS"})}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${s.is_active?"bg-green-100 dark:bg-green-950/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-950/30 text-red-700 dark:text-red-400"}`,children:s.is_active?"Activo":"Inactivo"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:j(s.created_at)})]})})]},s.id))})]})})]}),e.jsxs(x,{children:[e.jsxs(u,{className:"pb-3",children:[e.jsx(h,{className:"text-lg",children:"Actividad del Sistema"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Resumen de actividad reciente"})]}),e.jsx(f,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-950/30",children:e.jsx(H,{className:"h-5 w-5 text-blue-600 dark:text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"Nuevos Usuarios Hoy"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.nuevos_usuarios_hoy," registrados"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-950/30",children:e.jsx(v,{className:"h-5 w-5 text-blue-600 dark:text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"Usuarios Esta Semana"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.nuevos_usuarios_semana," de ",r.total_usuarios," totales"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-950/30",children:e.jsx(_,{className:"h-5 w-5 text-blue-600 dark:text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"Registros Médicos"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.registros_medicos_semana," esta semana / ",r.registros_medicos_total," totales"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-950/30",children:e.jsx(C,{className:"h-5 w-5 text-blue-600 dark:text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"Distribución de Roles"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.usuarios_por_rol.administradores," admins, ",r.usuarios_por_rol.medicos," médicos, ",r.usuarios_por_rol.ips," IPS"]})]})]})]})})]})]})]})})}export{G as default};
