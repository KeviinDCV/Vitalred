import{u as p,r as f,a as g,j as e,U as j,F as N}from"./app-PZnyk1wt.js";import{C as i,a as x,b as c,c as o}from"./card-CyItu73q.js";import{B as b}from"./app-header-floating-z-VX2Nba.js";import{A as v}from"./app-layout-inertia-B7-CbxuW.js";import{T as w,A as y}from"./trending-up-PL_Oyd70.js";/* empty css            */import"./index-BGVJRuT5.js";import"./index-B7eq0_Mq.js";import"./user-DF6Ef5YX.js";import"./app-logo-icon-g8V_8C5E.js";const k=[{title:"Panel de Administración",href:"/admin/dashboard"}];function R({usuariosRecientes:m,actividadSistema:t}){const{auth:u}=p().props;f.useEffect(()=>{const s=setInterval(()=>{g.reload({only:["usuariosRecientes","actividadSistema"]})},3e4);return()=>clearInterval(s)},[]);const h=s=>{const n=new Date(s),r=new Date().getTime()-n.getTime(),a=Math.floor(r/6e4),d=Math.floor(r/36e5),l=Math.floor(r/864e5);return a<60?`Hace ${a} minuto${a!==1?"s":""}`:d<24?`Hace ${d} hora${d!==1?"s":""}`:l<7?`Hace ${l} día${l!==1?"s":""}`:n.toLocaleDateString("es-ES",{day:"2-digit",month:"short"})};return e.jsx(v,{title:"Panel de Administración",breadcrumbs:k,user:u.user,children:e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 md:gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Panel de Administración"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Gestión completa del sistema"})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(i,{className:"lg:col-span-2 overflow-hidden",children:[e.jsxs(x,{className:"p-4 sm:p-5 md:p-6 pb-3",children:[e.jsx(c,{className:"text-base sm:text-lg",children:"Usuarios Recientes"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-1",children:"Últimos registrados • Auto-refresh"})]}),e.jsx(o,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-border",children:m.length===0?e.jsx("div",{className:"text-center text-muted-foreground py-8 text-xs sm:text-sm px-4",children:"No hay usuarios registrados aún"}):m.map(s=>e.jsxs("div",{className:"p-3 sm:p-4 flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-xs sm:text-sm truncate",children:s.name}),e.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:s.email})]}),e.jsx(b,{variant:s.role==="administrador"?"default":"secondary",className:"text-[10px] sm:text-xs flex-shrink-0",children:s.role==="administrador"?"Admin":s.role==="medico"?"Médico":"IPS"}),e.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-[10px] font-medium ${s.is_active?"bg-green-100 dark:bg-green-950/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-950/30 text-red-700 dark:text-red-400"}`,children:s.is_active?"Activo":"Inactivo"}),e.jsx("span",{className:"text-[10px] text-muted-foreground mt-0.5",children:h(s.created_at)})]})]},s.id))})})]}),e.jsxs(i,{className:"overflow-hidden",children:[e.jsxs(x,{className:"p-4 sm:p-5 md:p-6 pb-3",children:[e.jsx(c,{className:"text-base sm:text-lg",children:"Actividad"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-1",children:"Resumen reciente"})]}),e.jsx(o,{className:"p-4 sm:p-5 md:p-6 pt-0",children:e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2.5 sm:p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-950/30 flex-shrink-0",children:e.jsx(w,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 dark:text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:"Nuevos Hoy"}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["+",t.nuevos_usuarios_hoy," registrados"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2.5 sm:p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-950/30 flex-shrink-0",children:e.jsx(j,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 dark:text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:"Esta Semana"}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["+",t.nuevos_usuarios_semana," de ",t.total_usuarios]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2.5 sm:p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-950/30 flex-shrink-0",children:e.jsx(N,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 dark:text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:"Registros"}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[t.registros_medicos_semana," esta semana / ",t.registros_medicos_total," total"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2.5 sm:p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-950/30 flex-shrink-0",children:e.jsx(y,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 dark:text-blue-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:"Distribución"}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[t.usuarios_por_rol.administradores," Admin · ",t.usuarios_por_rol.medicos," Médico · ",t.usuarios_por_rol.ips," IPS"]})]})]})]})})]})]})]})})}export{R as default};
