import{c as E,r,j as e,J as R,B as N,a as T,U as f,C as B,T as b,F as d}from"./app-C2iDTuTN.js";import{C as l,c as n,a as o,b as c,d as v}from"./card-Bx9vz5lL.js";import{B as m}from"./app-header-floating-CxMkFEgg.js";import{P as D}from"./progress-C4BURrTd.js";import{A as H}from"./app-layout-Ba_vSkmF.js";import{A as k}from"./arrow-left-BI5XMkWv.js";import{B as p}from"./brain-DPxPK01Q.js";import{C as F}from"./circle-check-big-C3gLjXnD.js";import{S as y}from"./stethoscope-CpCZdJtp.js";/* empty css            */import"./index-DFo9P-5L.js";import"./index-CXhS-UtD.js";import"./user-0Jdvfuuw.js";import"./app-logo-icon-D1cblqZD.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],M=E("Heart",L),$=[{title:"Consulta Pacientes",href:"/medico/consulta-pacientes"},{title:"Análisis IA Priorización",href:"#"}];function pe({analisis:w}){const[A,C]=r.useState({}),[V,O]=r.useState(null),[U,Z]=r.useState(!1),[G,J]=r.useState(!1),[s,X]=r.useState(w||null),[q,Q]=r.useState(""),[W,Y]=r.useState(0);r.useRef(null);const S=a=>{C(i=>({...i,[a]:!i[a]}))},z=a=>{const i={"Muy alto":"bg-red-100 text-red-800 border-red-200",Alto:"bg-orange-100 text-orange-800 border-orange-200",Intermedio:"bg-yellow-100 text-yellow-800 border-yellow-200",Bajo:"bg-blue-100 text-blue-800 border-blue-200","Muy bajo":"bg-gray-100 text-gray-800 border-gray-200","No priorizado":"bg-slate-100 text-slate-600 border-slate-200"};return i[a]||i["No priorizado"]},u=a=>a>=4?"text-red-600":a>=3?"text-orange-600":a>=2?"text-yellow-600":a>=1?"text-blue-600":"text-gray-600",_=a=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:a.nombre}),e.jsx(m,{variant:"outline",className:`text-xs ${z(a.categoria)}`,children:a.categoria})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.valor}),a.descripcion&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.descripcion})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`text-lg font-bold ${u(a.puntuacion)}`,children:a.puntuacion}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"pts"})]})]},a.nombre),t=(a,i,x,h)=>{const j=x.reduce((P,I)=>P+I.puntuacion,0),g=A[h];return e.jsxs(l,{className:"mb-4",children:[e.jsx(o,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>S(h),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i,e.jsxs("div",{children:[e.jsx(c,{className:"text-base",children:a}),e.jsxs(v,{className:"text-sm",children:[x.length," criterio(s) evaluado(s)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`text-lg font-bold ${u(j)}`,children:j}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"puntos"})]}),e.jsx(N,{variant:"ghost",size:"sm",children:g?"−":"+"})]})]})}),g&&e.jsx(n,{className:"space-y-3",children:x.map(_)})]})};return e.jsxs(H,{breadcrumbs:$,children:[e.jsx(R,{title:"Análisis IA Priorización - HERMES"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(N,{variant:"outline",size:"sm",onClick:()=>T.visit("/medico/consulta-pacientes"),children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Volver"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Análisis de Priorización IA"}),e.jsx("p",{className:"text-muted-foreground",children:"Vista temporal para evaluación del algoritmo de priorización"})]})]})}),s?e.jsxs(e.Fragment,{children:[e.jsxs(l,{children:[e.jsx(o,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),"Información del Paciente"]})}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nombre completo"}),e.jsxs("p",{className:"font-medium",children:[s.paciente.nombre," ",s.paciente.apellidos]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Identificación"}),e.jsx("p",{className:"font-medium",children:s.paciente.numero_identificacion})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Edad"}),e.jsxs("p",{className:"font-medium",children:[s.paciente.edad," años"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tipo de paciente"}),e.jsx(m,{variant:"outline",children:s.paciente.tipo_paciente})]})]})})]}),e.jsxs(l,{children:[e.jsx(o,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5"}),"Resultado del Análisis IA"]})}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-6 py-3 rounded-full text-lg font-bold ${s.resultado.prioriza?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:[s.resultado.prioriza?e.jsx(F,{className:"h-6 w-6"}):e.jsx(B,{className:"h-6 w-6"}),s.resultado.prioriza?"PRIORIZA":"NO PRIORIZA"]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Puntuación Total"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl font-bold",children:s.resultado.puntuacion_total}),e.jsxs("span",{className:"text-muted-foreground",children:["/ ",s.resultado.puntuacion_maxima]})]}),e.jsx(D,{value:s.resultado.porcentaje,className:"mt-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.resultado.porcentaje.toFixed(1),"% del máximo posible"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Nivel de Prioridad"}),e.jsx(m,{variant:"outline",className:`text-lg px-4 py-2 ${s.resultado.nivel_prioridad==="ALTA"?"bg-red-100 text-red-800 border-red-200":s.resultado.nivel_prioridad==="MEDIA"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:s.resultado.nivel_prioridad}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Fecha de análisis: ",new Date(s.fecha_analisis).toLocaleString("es-ES")]})]})]})})]}),e.jsxs(l,{children:[e.jsx(o,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Razonamiento del Algoritmo"]})}),e.jsx(n,{children:e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm leading-relaxed",children:s.razonamiento})})})]}),e.jsxs(l,{children:[e.jsxs(o,{children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-5 w-5"}),"Desglose Detallado por Criterios"]}),e.jsx(v,{children:"Haz clic en cada sección para ver los detalles de evaluación"})]}),e.jsxs(n,{className:"space-y-4",children:[t("Datos Generales",e.jsx(f,{className:"h-5 w-5 text-blue-600"}),s.criterios.datos_generales,"datos_generales"),t("Datos Clínicos",e.jsx(d,{className:"h-5 w-5 text-green-600"}),s.criterios.datos_clinicos,"datos_clinicos"),t("Signos Vitales",e.jsx(M,{className:"h-5 w-5 text-red-600"}),s.criterios.signos_vitales,"signos_vitales"),t("Síntomas",e.jsx(y,{className:"h-5 w-5 text-purple-600"}),s.criterios.sintomas,"sintomas"),t("Servicios Solicitados",e.jsx(d,{className:"h-5 w-5 text-indigo-600"}),s.criterios.servicios,"servicios"),t("Especialidades",e.jsx(y,{className:"h-5 w-5 text-teal-600"}),s.criterios.especialidades,"especialidades"),t("Apoyo Diagnóstico",e.jsx(p,{className:"h-5 w-5 text-orange-600"}),s.criterios.apoyo_diagnostico,"apoyo_diagnostico"),t("Convenios (Evaluado al final)",e.jsx(d,{className:"h-5 w-5 text-gray-600"}),s.criterios.convenios,"convenios")]})]}),e.jsx(l,{className:"border-dashed border-2 border-yellow-200 bg-yellow-50/50",children:e.jsxs(n,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 mb-2",children:[e.jsx(b,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Vista Temporal de Prueba"})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Esta vista está diseñada para evaluar la efectividad del algoritmo de priorización IA. Una vez validado su correcto funcionamiento, esta interfaz será reemplazada por la integración directa en el sistema principal."})]})})]}):e.jsx(l,{children:e.jsxs(n,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(p,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay análisis disponible"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Cargue un archivo de historia clínica para iniciar el análisis"})]})})]})]})}export{pe as default};
