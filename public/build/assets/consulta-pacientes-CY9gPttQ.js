import{r as j,j as e,J as B,U as g,F as E,S as f,B as d,a as _,d as k,C as L}from"./app-DqsKdKIZ.js";import{C as N,a as A,b as D,d as I,c as w}from"./card-DNbMW3ua.js";import{I as R}from"./input-DHBWUCw1.js";import{B as r}from"./app-header-floating-C3lrnovL.js";import{T as F,a as H,b as v,c as l,d as q,e as i}from"./table-C0M58Jqo.js";import{A as M}from"./app-layout-inertia-W6Uck5dV.js";import{B as U}from"./brain-Ck3e5AAy.js";import{X}from"./x-BbzKcyQD.js";import{C as J}from"./chevron-left-DgJhaU1Z.js";import{C as K}from"./chevron-right-BMLr4B4i.js";import{C as G}from"./circle-check-big-C2W3dacG.js";/* empty css            */import"./index-BKv8jPLp.js";import"./index-CoxEX9DM.js";import"./app-logo-icon-DMtEqdir.js";const O=[{title:"Consulta Pacientes",href:"/ips/consulta-pacientes"}];function oe({registros:s,filters:C,stats:y,auth:p}){const z={name:p.user.nombre,role:p.user.role},[n,x]=j.useState(C.search||""),[u,b]=j.useState(!1),o=y||{total:s.total||0,priorizados:s.data.filter(a=>a.prioriza_ia===!0).length,no_priorizados:s.data.filter(a=>a.prioriza_ia===!1).length},c=a=>{b(!0),_.get(route("ips.consulta-pacientes"),{search:a},{preserveState:!0,onFinish:()=>b(!1)})},h=a=>{_.get(route("ips.consulta-pacientes"),{page:a,search:n},{preserveState:!0})},P=a=>a==null?e.jsx(r,{variant:"outline",className:"bg-gray-50",children:"Pendiente IA"}):a?e.jsx(r,{variant:"destructive",className:"bg-red-600",children:"✓ Prioriza"}):e.jsx(r,{variant:"secondary",className:"bg-gray-200 text-gray-700",children:"✗ No Prioriza"}),S=a=>{switch(a.toLowerCase()){case"aceptado":case"atendido":return e.jsxs(r,{className:"bg-green-100 text-green-700 border-green-200",children:[e.jsx(G,{className:"h-3 w-3 mr-1"}),"Aceptado"]});case"rechazado":case"derivado":return e.jsxs(r,{className:"bg-red-100 text-red-700 border-red-200",children:[e.jsx(L,{className:"h-3 w-3 mr-1"}),"Rechazado"]});case"enviado":case"pendiente":default:return e.jsxs(r,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),"Pendiente"]})}},T=a=>new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"});return e.jsxs(M,{breadcrumbs:O,user:z,children:[e.jsx(B,{title:"Consulta Pacientes - HERMES"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4 sm:gap-5 sm:p-5 md:gap-6 md:p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-start sm:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Consulta Pacientes"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 md:gap-4 mt-3 sm:mt-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-gradient-to-b from-white to-slate-50/50 px-3 py-2 sm:px-4 sm:py-2.5 rounded-lg shadow-[0_1px_2px_rgba(0,0,0,0.05),0_4px_8px_rgba(0,0,0,0.08),inset_0_1px_0_rgba(255,255,255,0.8)] touch-manipulation",children:[e.jsx(g,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-slate-500"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-600",children:"Total:"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-slate-900",children:o.total})]}),o.priorizados>0&&e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-gradient-to-b from-white to-green-50/30 px-3 py-2 sm:px-4 sm:py-2.5 rounded-lg shadow-[0_1px_2px_rgba(0,0,0,0.05),0_4px_8px_rgba(34,197,94,0.15),inset_0_1px_0_rgba(255,255,255,0.8)] touch-manipulation",children:[e.jsx(U,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-green-600"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-600",children:"Priorizados:"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-green-600",children:o.priorizados})]}),o.no_priorizados>0&&e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-gradient-to-b from-white to-blue-50/30 px-3 py-2 sm:px-4 sm:py-2.5 rounded-lg shadow-[0_1px_2px_rgba(0,0,0,0.05),0_4px_8px_rgba(59,130,246,0.15),inset_0_1px_0_rgba(255,255,255,0.8)] touch-manipulation",children:[e.jsx(E,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 text-blue-600"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-600",children:"No Priorizados:"}),e.jsx("span",{className:"text-base sm:text-lg font-bold text-blue-600",children:o.no_priorizados})]})]})]})}),e.jsxs(N,{className:"bg-gradient-to-b from-white to-slate-50/30 border-0 shadow-[0_1px_3px_rgba(0,0,0,0.08),0_4px_12px_rgba(0,0,0,0.08),inset_0_1px_0_rgba(255,255,255,0.9)]",children:[e.jsxs(A,{className:"border-b border-slate-100 bg-gradient-to-b from-slate-50/50 to-white",children:[e.jsx(D,{className:"text-slate-900 text-xl sm:text-2xl",children:"Registros Enviados"}),e.jsx(I,{className:"text-slate-600",children:"Consulta el estado de los registros médicos que has enviado"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(R,{placeholder:"Buscar por nombre, apellidos, documento...",className:"pl-10",value:n,onChange:a=>x(a.target.value),onKeyDown:a=>{a.key==="Enter"&&c(n)}})]})}),e.jsxs(d,{onClick:()=>c(n),disabled:u,className:"w-full sm:w-auto touch-manipulation",children:[u?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(f,{className:"h-4 w-4 mr-2"}),"Buscar"]}),n&&e.jsxs(d,{variant:"outline",onClick:()=>{x(""),c("")},className:"w-full sm:w-auto touch-manipulation",children:[e.jsx(X,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Limpiar"})]})]}),s.data.length>0?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"rounded-lg bg-gradient-to-b from-slate-50 to-slate-100/50 border-0 overflow-x-auto shadow-[inset_0_1px_2px_rgba(0,0,0,0.04)]",children:e.jsxs(F,{children:[e.jsx(H,{className:"bg-slate-100 border-0",children:e.jsxs(v,{className:"border-0 hover:bg-slate-100",children:[e.jsx(l,{children:"ID"}),e.jsx(l,{children:"Nombre"}),e.jsx(l,{children:"Fecha solicitud"}),e.jsx(l,{children:"EPS"}),e.jsx(l,{children:"Edad"}),e.jsx(l,{children:"Tipo de Paciente"}),e.jsx(l,{children:"Prioridad"}),e.jsx(l,{children:"Estado"})]})}),e.jsx(q,{children:s.data.map(a=>e.jsxs(v,{className:"bg-gradient-to-b from-white to-white border-0 border-b border-slate-100 last:border-b-0 hover:from-slate-50 hover:to-white hover:shadow-[0_1px_2px_rgba(0,0,0,0.04)] transition-all duration-200",children:[e.jsx(i,{children:e.jsxs("div",{className:"font-mono text-sm font-medium",children:["#",a.id]})}),e.jsx(i,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[a.nombre," ",a.apellidos]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:a.numero_identificacion})]})}),e.jsx(i,{children:e.jsx("div",{className:"text-sm",children:T(a.created_at)})}),e.jsx(i,{children:e.jsx("div",{className:"text-sm",children:a.asegurador||"No especificado"})}),e.jsx(i,{children:e.jsxs(r,{variant:"outline",children:[a.edad," años"]})}),e.jsx(i,{children:e.jsx(r,{variant:"secondary",children:a.tipo_paciente})}),e.jsx(i,{children:P(a.prioriza_ia)}),e.jsx(i,{children:S(a.estado)})]},a.id))})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No hay registros"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n?"No se encontraron registros que coincidan con tu búsqueda.":"Aún no has enviado registros médicos."}),n&&e.jsx(d,{variant:"outline",onClick:()=>{x(""),c("")},children:"Limpiar búsqueda"})]})]})]}),s.last_page>1&&e.jsx(N,{className:"bg-gradient-to-b from-white to-slate-50/30 border-0 shadow-[0_1px_3px_rgba(0,0,0,0.08),0_4px_12px_rgba(0,0,0,0.08),inset_0_1px_0_rgba(255,255,255,0.9)]",children:e.jsx(w,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-slate-600 text-center sm:text-left",children:["Mostrando ",s.from||0," a ",s.to||0," de ",s.total," registros"]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-wrap justify-center",children:[e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>h(s.current_page-1),disabled:s.current_page<=1,children:[e.jsx(J,{className:"h-4 w-4"}),"Anterior"]}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,s.last_page)},(a,m)=>{let t;return s.last_page<=5||s.current_page<=3?t=m+1:s.current_page>=s.last_page-2?t=s.last_page-4+m:t=s.current_page-2+m,e.jsx(d,{variant:t===s.current_page?"default":"outline",size:"sm",onClick:()=>h(t),className:"w-8 h-8 p-0",children:t},t)})}),e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>h(s.current_page+1),disabled:s.current_page>=s.last_page,children:["Siguiente",e.jsx(K,{className:"h-4 w-4"})]})]})]})})})]})]})}export{oe as default};
