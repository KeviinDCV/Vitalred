import{r as u,j as e,J as S,S as T,B as c,a as d}from"./app-PZnyk1wt.js";import{A as B}from"./app-layout-C0wA5uF6.js";import{I as k}from"./input-DnGPTIjV.js";import{C as f,a as N,b,c as v}from"./card-CyItu73q.js";import{B as r}from"./app-header-floating-z-VX2Nba.js";import{T as D,a as M,b as g,c as t,d as A,e as l}from"./table-CnjPTz1b.js";import{D as E}from"./download-Bjzvq1cb.js";import{C as H}from"./chevron-left-DGW4XaDX.js";import{C as P}from"./chevron-right-Ch97y8RZ.js";/* empty css            */import"./index-BGVJRuT5.js";import"./index-B7eq0_Mq.js";import"./user-DF6Ef5YX.js";import"./app-logo-icon-g8V_8C5E.js";const R=[{title:"Tablero",href:"/dashboard"}];function Y({registros:a,search:h}){const[x,p]=u.useState(h||""),[o,n]=u.useState(!1),y=s=>new Date(s).toLocaleDateString("es-CO",{day:"2-digit",month:"2-digit",year:"numeric"}),w=s=>{const i={triage_1:"destructive",triage_2:"destructive",triage_3:"default",triage_4:"secondary",triage_5:"outline"},m={triage_1:"Crítico",triage_2:"Alto",triage_3:"Medio",triage_4:"Bajo",triage_5:"Mínimo"};return e.jsx(r,{variant:i[s]||"outline",children:m[s]||"Sin clasificar"})},j=()=>{n(!0),d.get("/dashboard",{search:x},{preserveState:!0,onFinish:()=>n(!1)})},C=()=>{p(""),n(!0),d.get("/dashboard",{},{preserveState:!0,onFinish:()=>n(!1)})},_=s=>{if(s.historia_clinica_path){const i=route("admin.descargar-historia",s.id),m=document.createElement("a");m.href=i,m.target="_blank",document.body.appendChild(m),m.click(),document.body.removeChild(m)}};return e.jsxs(B,{breadcrumbs:R,children:[e.jsx(S,{title:"Tablero - Registros Médicos"}),e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 md:gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground",children:"Tablero de Administración"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1 sm:mt-2",children:"Supervisa todos los registros médicos del sistema"})]}),e.jsxs(r,{variant:"outline",className:"text-xs sm:text-sm w-fit",children:[a.total," registros totales"]})]}),e.jsxs(f,{children:[e.jsx(N,{className:"p-3 sm:p-4 md:p-6 pb-2 sm:pb-3",children:e.jsxs(b,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(T,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Buscar Registros Médicos"]})}),e.jsx(v,{className:"p-3 sm:p-4 md:p-6 pt-0",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e.jsx(k,{placeholder:"Buscar por nombre, documento, diagnóstico...",value:x,onChange:s=>p(s.target.value),onKeyPress:s=>s.key==="Enter"&&j(),className:"flex-1 h-9 sm:h-10 text-sm sm:text-base"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:j,disabled:o,className:"flex-1 sm:flex-none h-9 sm:h-10 text-sm sm:text-base",children:o?"Buscando...":"Buscar"}),(x||h)&&e.jsx(c,{variant:"outline",onClick:C,disabled:o,className:"flex-1 sm:flex-none h-9 sm:h-10 text-sm sm:text-base",children:"Limpiar"})]})]})})]}),e.jsxs(f,{children:[e.jsxs(N,{className:"p-3 sm:p-4 md:p-6",children:[e.jsx(b,{className:"text-base sm:text-lg",children:"Registros Médicos"}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[a.total," registros encontrados"]})]}),e.jsxs(v,{className:"p-3 sm:p-4 md:p-6 pt-0",children:[e.jsx("div",{className:"-mx-3 sm:-mx-4 md:-mx-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(D,{className:"min-w-[800px]",children:[e.jsx(M,{children:e.jsxs(g,{children:[e.jsx(t,{className:"text-xs sm:text-sm",children:"ID"}),e.jsx(t,{className:"text-xs sm:text-sm",children:"Nombre"}),e.jsx(t,{className:"text-xs sm:text-sm hidden md:table-cell",children:"Médico"}),e.jsx(t,{className:"text-xs sm:text-sm",children:"Fecha"}),e.jsx(t,{className:"text-xs sm:text-sm hidden lg:table-cell",children:"EPS"}),e.jsx(t,{className:"text-xs sm:text-sm",children:"Edad"}),e.jsx(t,{className:"text-xs sm:text-sm hidden sm:table-cell",children:"Tipo"}),e.jsx(t,{className:"text-xs sm:text-sm",children:"Prioridad"}),e.jsx(t,{className:"text-xs sm:text-sm",children:"HC"})]})}),e.jsx(A,{children:a.data.map(s=>e.jsxs(g,{children:[e.jsx(l,{className:"py-2 sm:py-3",children:e.jsxs("div",{className:"font-mono text-xs sm:text-sm font-medium",children:["#",s.id]})}),e.jsx(l,{className:"py-2 sm:py-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-xs sm:text-sm",children:[s.nombre," ",s.apellidos]}),e.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground",children:s.numero_identificacion})]})}),e.jsx(l,{className:"py-2 sm:py-3 hidden md:table-cell",children:e.jsx("div",{className:"text-xs sm:text-sm",children:s.user?.name||"N/A"})}),e.jsx(l,{className:"py-2 sm:py-3",children:e.jsx("div",{className:"text-xs sm:text-sm",children:y(s.created_at)})}),e.jsx(l,{className:"py-2 sm:py-3 hidden lg:table-cell",children:e.jsx("div",{className:"text-xs sm:text-sm max-w-[120px] truncate",children:s.asegurador})}),e.jsx(l,{className:"py-2 sm:py-3",children:e.jsx(r,{variant:"outline",className:"text-[10px] sm:text-xs",children:s.edad})}),e.jsx(l,{className:"py-2 sm:py-3 hidden sm:table-cell",children:e.jsx(r,{variant:"secondary",className:"text-[10px] sm:text-xs",children:s.tipo_paciente})}),e.jsx(l,{className:"py-2 sm:py-3",children:w(s.clasificacion_triage)}),e.jsx(l,{className:"py-2 sm:py-3",children:e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>_(s),disabled:!s.historia_clinica_path,className:"h-7 w-7 sm:h-8 sm:w-8 p-0",children:e.jsx(E,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})})})]},s.id))})]})})}),a.last_page>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground text-center sm:text-left",children:["Mostrando ",a.from||0," a ",a.to||0," de ",a.total]}),e.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>d.get(a.links.find(s=>s.label==="&laquo; Previous")?.url||"#"),disabled:a.current_page===1,className:"h-8 px-2 sm:px-3 text-xs sm:text-sm",children:[e.jsx(H,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline ml-1",children:"Anterior"})]}),a.links.filter(s=>s.label!=="&laquo; Previous"&&s.label!=="Next &raquo;").slice(0,3).map((s,i)=>e.jsx(c,{variant:s.active?"default":"outline",size:"sm",onClick:()=>s.url&&d.get(s.url),disabled:!s.url,className:"h-8 w-8 p-0 text-xs sm:text-sm",children:s.label},i)),e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>d.get(a.links.find(s=>s.label==="Next &raquo;")?.url||"#"),disabled:a.current_page===a.last_page,className:"h-8 px-2 sm:px-3 text-xs sm:text-sm",children:[e.jsx("span",{className:"hidden sm:inline mr-1",children:"Siguiente"}),e.jsx(P,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"})]})]})]})]})]})]})]})}export{Y as default};
