import{u as P,r as o,j as e,L as I,B as i,S as q,C as H,a as c,t as n}from"./app-DIBfVYXI.js";import{A as R}from"./app-layout-DQt-K6Dm.js";import{C as G,c as X}from"./card-BpTze9QC.js";import{I as j}from"./input-CBpbKf_l.js";import{L as m}from"./label-CkeNH8Vu.js";import{B as N}from"./app-header-floating-CxSqaYsW.js";import{T as J,a as K,b as v,c as x,d as Q,e as p}from"./table-D5nscopB.js";import{T as C}from"./textarea-DnBYTTqD.js";import{D as _,a as U,b as w,c as E,d as y,e as D,f as S}from"./dialog-sRoc1XCG.js";import{A as V}from"./arrow-left-gTQsI_11.js";import{P as W}from"./plus-f1J07uWP.js";import{C as Y}from"./circle-check-D7NWRABV.js";import{P as Z}from"./pen-DtYWD686.js";import{T as ee}from"./trash-2--p3rJlnD.js";/* empty css            */import"./index-Ds_uM50_.js";import"./index-Mtp561uE.js";import"./user-qE4O-k3p.js";import"./app-logo-icon-CNWK3UJ_.js";import"./x-BJ2qpLe-.js";function ve(){const{especialidades:a,filters:T}=P().props,[h,A]=o.useState(T.search||""),[k,u]=o.useState(!1),[O,d]=o.useState(!1),[b,f]=o.useState(null),[r,t]=o.useState({nombre:"",descripcion:""}),$=s=>{A(s),c.get("/admin/configuracion/especialidades",{search:s},{preserveState:!0})},z=s=>{s.preventDefault(),c.post("/admin/configuracion/especialidades",r,{onSuccess:()=>{u(!1),t({nombre:"",descripcion:""}),n.success("Especialidad creada exitosamente")},onError:l=>{Object.values(l).forEach(g=>n.error(g))}})},M=s=>{s.preventDefault(),b&&c.put(`/admin/configuracion/especialidades/${b.id}`,r,{onSuccess:()=>{d(!1),f(null),t({nombre:"",descripcion:""}),n.success("Especialidad actualizada exitosamente")},onError:l=>{Object.values(l).forEach(g=>n.error(g))}})},B=s=>{c.patch(`/admin/configuracion/especialidades/${s}/toggle`,{},{onSuccess:()=>n.success("Estado actualizado")})},F=(s,l)=>{confirm(`¿Está seguro de eliminar la especialidad ${l}?`)&&c.delete(`/admin/configuracion/especialidades/${s}`,{onSuccess:()=>n.success("Especialidad eliminada")})},L=s=>{f(s),t({nombre:s.nombre,descripcion:s.descripcion||""}),d(!0)};return e.jsx(R,{children:e.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{href:"/admin/configuracion",className:"text-slate-600",children:e.jsx(V,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:"Especialidades Médicas"}),e.jsxs("p",{className:"text-xs sm:text-sm text-slate-600 mt-1",children:[a.total," especialidades disponibles"]})]})]}),e.jsxs(_,{open:k,onOpenChange:u,children:[e.jsx(U,{asChild:!0,children:e.jsxs(i,{className:"bg-gradient-to-b from-[#042077] to-[#031852]",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Agregar"]})}),e.jsx(w,{className:"max-w-md",children:e.jsxs("form",{onSubmit:z,children:[e.jsxs(E,{children:[e.jsx(y,{children:"Nueva Especialidad"}),e.jsx(D,{children:"Agregue una nueva especialidad médica"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"nombre",children:"Nombre *"}),e.jsx(j,{id:"nombre",value:r.nombre,onChange:s=>t({...r,nombre:s.target.value}),placeholder:"Ej: Cardiología",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"descripcion",children:"Descripción"}),e.jsx(C,{id:"descripcion",value:r.descripcion,onChange:s=>t({...r,descripcion:s.target.value}),placeholder:"Descripción opcional de la especialidad",rows:3})]})]}),e.jsxs(S,{children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),e.jsx(i,{type:"submit",className:"bg-gradient-to-b from-[#042077] to-[#031852]",children:"Guardar"})]})]})})]})]}),e.jsx(G,{className:"bg-gradient-to-b from-white to-slate-50/20 border-0 shadow-[0_2px_4px_rgba(0,0,0,0.06),0_8px_20px_rgba(0,0,0,0.1),inset_0_1px_0_rgba(255,255,255,1)]",children:e.jsxs(X,{className:"space-y-4 p-4 sm:p-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(j,{type:"text",placeholder:"Buscar por nombre...",className:"pl-10",value:h,onChange:s=>$(s.target.value)})]})}),a.data.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-lg bg-gradient-to-b from-slate-50 to-slate-100/50 border-0 overflow-x-auto shadow-[inset_0_1px_2px_rgba(0,0,0,0.04)]",children:e.jsxs(J,{children:[e.jsx(K,{className:"bg-slate-100 border-0",children:e.jsxs(v,{className:"border-0 hover:bg-slate-100",children:[e.jsx(x,{children:"Nombre"}),e.jsx(x,{children:"Descripción"}),e.jsx(x,{className:"text-center",children:"Estado"}),e.jsx(x,{className:"text-center",children:"Acciones"})]})}),e.jsx(Q,{children:a.data.map(s=>e.jsxs(v,{className:"bg-gradient-to-b from-white to-white border-0 border-b border-slate-100 last:border-b-0 hover:from-slate-50 hover:to-white hover:shadow-[0_1px_2px_rgba(0,0,0,0.04)] transition-all duration-200",children:[e.jsx(p,{children:e.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.nombre})}),e.jsx(p,{children:e.jsx("span",{className:"text-sm text-slate-600",children:s.descripcion||e.jsx("span",{className:"text-slate-400",children:"-"})})}),e.jsx(p,{className:"text-center",children:e.jsx("button",{onClick:()=>B(s.id),className:"inline-flex items-center",children:s.activo?e.jsxs(N,{className:"bg-green-100 text-green-700 border-green-200",children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),"Activo"]}):e.jsxs(N,{variant:"outline",className:"bg-gray-50",children:[e.jsx(H,{className:"h-3 w-3 mr-1"}),"Inactivo"]})})}),e.jsx(p,{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(i,{size:"sm",variant:"ghost",onClick:()=>L(s),className:"h-8 w-8 p-0",children:e.jsx(Z,{className:"h-4 w-4"})}),e.jsx(i,{size:"sm",variant:"ghost",onClick:()=>F(s.id,s.nombre),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ee,{className:"h-4 w-4"})})]})})]},s.id))})]})}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Página ",a.current_page," de ",a.last_page]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",disabled:a.current_page===1,onClick:()=>c.get(`/admin/configuracion/especialidades?page=${a.current_page-1}&search=${h}`),children:"Anterior"}),e.jsx(i,{size:"sm",variant:"outline",disabled:a.current_page===a.last_page,onClick:()=>c.get(`/admin/configuracion/especialidades?page=${a.current_page+1}&search=${h}`),children:"Siguiente"})]})]})]}):e.jsx("div",{className:"text-center p-8 text-slate-500",children:"No se encontraron resultados"})]})}),e.jsx(_,{open:O,onOpenChange:d,children:e.jsx(w,{className:"max-w-md",children:e.jsxs("form",{onSubmit:M,children:[e.jsxs(E,{children:[e.jsx(y,{children:"Editar Especialidad"}),e.jsx(D,{children:"Modifique los datos de la especialidad"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"edit_nombre",children:"Nombre *"}),e.jsx(j,{id:"edit_nombre",value:r.nombre,onChange:s=>t({...r,nombre:s.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"edit_descripcion",children:"Descripción"}),e.jsx(C,{id:"edit_descripcion",value:r.descripcion,onChange:s=>t({...r,descripcion:s.target.value}),rows:3})]})]}),e.jsxs(S,{children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),e.jsx(i,{type:"submit",className:"bg-gradient-to-b from-[#042077] to-[#031852]",children:"Actualizar"})]})]})})})]})})}export{ve as default};
