import{c as O,u as Y,r,v as G,t as b,j as e,J as K,F as Q,B as W}from"./app-D9F8BQJw.js";import{I as n}from"./input-error-BPr8bie5.js";import{I as l}from"./input-BBKJMIm_.js";import{L as i}from"./label-xyb3MOZx.js";import{S as C,a as P,b as R,c as F,d as j}from"./select-CH0hfIoc.js";import{A as X}from"./auth-layout-MV-hKPpE.js";import{B as Z}from"./building-2-BaG9YhbZ.js";import{U as $}from"./user-D1FEoVEE.js";import{P as ee}from"./phone-Cbi6nr3B.js";import{M as se}from"./mail-C1CY1ebq.js";import{L as I,E as L}from"./lock-CssmRHnD.js";import{E as M}from"./eye-Sm7oy3H-.js";import{L as ae}from"./loader-circle-Bg7livCy.js";/* empty css            */import"./index-BM1roQwJ.js";import"./index-BxyJLOIi.js";import"./index-nhiycwr4.js";import"./check-DfvKXaEj.js";import"./app-logo-icon-DOHWMODH.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],re=O("Briefcase",te);function we({eps:h,nits:k}){const{flash:x}=Y().props,[c,q]=r.useState(""),[B,v]=r.useState(""),[g,_]=r.useState(""),[y,p]=r.useState(""),[w,T]=r.useState(""),[S,H]=r.useState(""),[N,D]=r.useState(!1),[f,V]=r.useState(!1),{data:m,setData:a,post:z,processing:E,errors:o}=G({eps_id:null,eps_nombre:"",nit:"",nombre_responsable:"",cargo_responsable:"",telefono:"",email:"",password:"",password_confirmation:""}),A=h.filter(t=>t.nombre.toLowerCase().includes(w.toLowerCase())),J=k.filter(t=>t.toLowerCase().includes(S.toLowerCase()));return r.useEffect(()=>{if(c&&c!=="manual"){const t=h.find(u=>u.id===parseInt(c));t?.nit&&(_(""),p(t.nit),a("nit",t.nit))}},[c,h]),r.useEffect(()=>{x?.success&&b.success(x.success),x?.error&&b.error(x.error)},[x]),e.jsxs(X,{title:"Registro de EPS",description:"Regístrate como EPS en el sistema HERMES",showHeader:!0,children:[e.jsx(K,{title:"Registro de EPS - HERMES",children:e.jsx("meta",{name:"description",content:"Regístrate como Entidad Promotora de Salud en el sistema HERMES"})}),e.jsx("form",{onSubmit:t=>{t.preventDefault(),z(route("register"),{onSuccess:()=>{b.success("Registro enviado exitosamente. Será revisado por un administrador."),setTimeout(()=>{window.location.href=route("login")},1500)},onError:u=>{}})},className:"space-y-5 sm:space-y-6",children:(()=>{const t=s=>{if(q(s),s==="manual")a("eps_id",null),a("eps_nombre",""),p(""),a("nit","");else{const d=h.find(U=>U.id===parseInt(s));d&&(a("eps_id",null),a("eps_nombre",d.nombre),v(d.nombre),d.nit&&(p(d.nit),a("nit",d.nit)))}},u=s=>{_(s),s==="manual"?a("nit",""):(a("nit",s),p(s))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(i,{htmlFor:"eps",className:"text-xs font-medium text-slate-700",children:["EPS ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(C,{value:c,onValueChange:t,children:[e.jsx(P,{className:"h-9",children:e.jsx(R,{placeholder:"Seleccione una EPS"})}),e.jsxs(F,{className:"max-h-80",children:[e.jsx("div",{className:"px-2 pb-2 sticky top-0 bg-white border-b z-10",children:e.jsx(l,{type:"text",placeholder:"Buscar EPS...",value:w,onChange:s=>T(s.target.value),className:"h-8 text-xs",onClick:s=>s.stopPropagation()})}),e.jsx(j,{value:"manual",className:"font-medium text-primary text-xs",children:"+ Escribir manualmente"}),A.map(s=>e.jsx(j,{value:s.id.toString(),className:"text-xs",children:s.nombre},s.id))]})]}),c==="manual"&&e.jsx("div",{className:"mt-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-400"}),e.jsx(l,{id:"eps_nombre",type:"text",name:"eps_nombre",value:B,onChange:s=>{v(s.target.value),a("eps_nombre",s.target.value)},placeholder:"Nombre de la EPS",className:"pl-8 h-9 text-sm",required:c==="manual"})]})}),e.jsx(n,{message:o.eps_id||o.eps_nombre})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(i,{htmlFor:"nit",className:"text-xs font-medium text-slate-700",children:["NIT ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(C,{value:g,onValueChange:u,children:[e.jsx(P,{className:"h-9",children:e.jsx(R,{placeholder:"Seleccione un NIT"})}),e.jsxs(F,{className:"max-h-80",children:[e.jsx("div",{className:"px-2 pb-2 sticky top-0 bg-white border-b z-10",children:e.jsx(l,{type:"text",placeholder:"Buscar NIT...",value:S,onChange:s=>H(s.target.value),className:"h-8 text-xs",onClick:s=>s.stopPropagation()})}),e.jsx(j,{value:"manual",className:"font-medium text-primary text-xs",children:"+ Escribir manualmente"}),J.map(s=>e.jsx(j,{value:s,className:"text-xs",children:s},s))]})]}),(g==="manual"||!g&&y)&&e.jsx("div",{className:"mt-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-400"}),e.jsx(l,{id:"nit",type:"text",name:"nit",value:y,onChange:s=>{p(s.target.value),a("nit",s.target.value)},placeholder:"NIT de la entidad",className:"pl-8 h-9 text-sm",required:!0})]})}),e.jsx(n,{message:o.nit})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(i,{htmlFor:"nombre_responsable",className:"text-xs font-medium text-slate-700",children:["Nombre del Responsable ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-400"}),e.jsx(l,{id:"nombre_responsable",type:"text",name:"nombre_responsable",value:m.nombre_responsable||"",onChange:s=>a("nombre_responsable",s.target.value),placeholder:"Ej: Dr. Juan Pérez",className:"pl-8 h-9 text-sm",required:!0})]}),e.jsx(n,{message:o.nombre_responsable})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(i,{htmlFor:"cargo_responsable",className:"text-xs font-medium text-slate-700",children:["Cargo del Responsable ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-400"}),e.jsx(l,{id:"cargo_responsable",type:"text",name:"cargo_responsable",value:m.cargo_responsable||"",onChange:s=>a("cargo_responsable",s.target.value),placeholder:"Ej: Director Médico",className:"pl-8 h-9 text-sm",required:!0})]}),e.jsx(n,{message:o.cargo_responsable})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(i,{htmlFor:"telefono",className:"text-xs font-medium text-slate-700",children:["Teléfono/Contacto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-400"}),e.jsx(l,{id:"telefono",type:"tel",name:"telefono",value:m.telefono||"",onChange:s=>a("telefono",s.target.value),placeholder:"Ej: 3001234567",className:"pl-8 h-9 text-sm",required:!0})]}),e.jsx(n,{message:o.telefono})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(i,{htmlFor:"email",className:"text-xs font-medium text-slate-700",children:["Correo Institucional ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-400"}),e.jsx(l,{id:"email",type:"email",name:"email",value:m.email||"",onChange:s=>a("email",s.target.value),placeholder:"correo@institucion.com",className:"pl-8 h-9 text-sm",required:!0})]}),e.jsx(n,{message:o.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(i,{htmlFor:"password",className:"text-xs font-medium text-slate-700",children:["Contraseña ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-400"}),e.jsx(l,{id:"password",type:N?"text":"password",name:"password",value:m.password||"",onChange:s=>a("password",s.target.value),placeholder:"Mínimo 8 caracteres",className:"pl-8 pr-8 h-9 text-sm",required:!0}),e.jsx("button",{type:"button",onClick:()=>D(!N),className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:N?e.jsx(L,{className:"h-3.5 w-3.5"}):e.jsx(M,{className:"h-3.5 w-3.5"})})]}),e.jsx(n,{message:o.password})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(i,{htmlFor:"password_confirmation",className:"text-xs font-medium text-slate-700",children:["Confirmar Contraseña ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-slate-400"}),e.jsx(l,{id:"password_confirmation",type:f?"text":"password",name:"password_confirmation",value:m.password_confirmation||"",onChange:s=>a("password_confirmation",s.target.value),placeholder:"Repite la contraseña",className:"pl-8 pr-8 h-9 text-sm",required:!0}),e.jsx("button",{type:"button",onClick:()=>V(!f),className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:f?e.jsx(L,{className:"h-3.5 w-3.5"}):e.jsx(M,{className:"h-3.5 w-3.5"})})]}),e.jsx(n,{message:o.password_confirmation})]})]})]}),e.jsx(W,{type:"submit",className:"w-full h-10 sm:h-11 text-sm sm:text-base bg-gradient-to-b from-primary via-primary to-primary/95 hover:from-primary hover:via-primary/95 hover:to-primary/90 text-primary-foreground font-medium transition-all duration-200 shadow-[0_1px_3px_rgba(0,0,0,0.1),0_4px_12px_rgba(59,130,246,0.3),inset_0_1px_0_rgba(255,255,255,0.2)] hover:shadow-[0_2px_4px_rgba(0,0,0,0.12),0_8px_20px_rgba(59,130,246,0.4),inset_0_1px_0_rgba(255,255,255,0.3)] hover:-translate-y-0.5 active:translate-y-0 active:shadow-[0_1px_2px_rgba(0,0,0,0.1),0_2px_6px_rgba(59,130,246,0.25),inset_0_1px_0_rgba(255,255,255,0.15)] touch-manipulation",disabled:E,children:E?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 animate-spin mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Registrando..."}),e.jsx("span",{className:"sm:hidden",children:"Registrando..."})]}):"Registrarse"}),e.jsxs("div",{className:"text-center text-xs sm:text-sm text-slate-600",children:["¿Ya tienes una cuenta?"," ",e.jsx("a",{href:route("login"),className:"text-primary hover:text-primary/80 font-medium underline underline-offset-4",children:"Inicia sesión"})]})]})})()})]})}export{we as default};
